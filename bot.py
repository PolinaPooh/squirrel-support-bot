import asyncio
import random
import os
from aiogram import Bot, Dispatcher, types
from aiogram.filters import Command
from aiogram.types import FSInputFile

# ===== –í–ï–ë-–°–ï–†–í–ï–† –î–õ–Ø RENDER (—á—Ç–æ–±—ã –Ω–µ —Ä—É–≥–∞–ª—Å—è –Ω–∞ –ø–æ—Ä—Ç—ã) =====
from aiohttp import web
import threading

async def handle(request):
    return web.Response(text="–ë–µ–ª–æ—á–∫–∞-—É—Ç–µ—à–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç! üêøÔ∏è")

async def run_web_server():
    app = web.Application()
    app.router.add_get('/', handle)
    # Render —Å–∞–º –ø–µ—Ä–µ–¥–∞—ë—Ç –ø–æ—Ä—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è PORT
    port = int(os.environ.get('PORT', 10000))
    runner = web.AppRunner(app)
    await runner.setup()
    site = web.TCPSite(runner, '0.0.0.0', port)
    await site.start()
    print(f"‚úÖ –í–µ–±-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É {port}")

def start_web_server():
    loop = asyncio.new_event_loop()
    asyncio.set_event_loop(loop)
    loop.run_until_complete(run_web_server())
    loop.run_forever()

# –ó–∞–ø—É—Å–∫–∞–µ–º –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞–ª –±–æ—Ç—É
threading.Thread(target=start_web_server, daemon=True).start()
print("üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è Render...")
# ===== –ö–û–ù–ï–¶ –ë–õ–û–ö–ê =====

# ===== –¢–í–û–ô –¢–û–ö–ï–ù =====
# –í—Å—Ç–∞–≤—å —Å—é–¥–∞ —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –¥–∞–ª BotFather
BOT_TOKEN = os.environ.get("BOT_TOKEN")


IMAGES_FOLDER = "images"


SUPPORT_PHRASES = [
    "–ë–µ–ª–∫–∏ —Ç–æ–∂–µ –≥—Ä—É—Å—Ç—è—Ç. –ù–æ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç —Å–ø—Ä—è—Ç–∞–Ω–Ω—ã–π –æ—Ä–µ—à–µ–∫ –∏ —Ä–∞–¥—É—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ. –ù–∞–π–¥–∏ —Å–≤–æ–π –æ—Ä–µ—à–µ–∫ —Å–µ–≥–æ–¥–Ω—è. ‚ù§Ô∏è",
"–ë–µ–ª–∫–∞ –Ω–µ –ø–µ—Ä–µ–∂–∏–≤–∞–µ—Ç –∏–∑-–∑–∞ —É–ø–∞–≤—à–µ–π —à–∏—à–∫–∏ ‚Äî –æ–Ω–∞ —Å–ø—É—Å–∫–∞–µ—Ç—Å—è –∑–∞ –Ω–æ–≤–æ–π. –û—Ç–ø—É—Å—Ç–∏ –ø—Ä–æ—à–ª–æ–µ –∏ –∏–¥–∏ –¥–∞–ª—å—à–µ. ‚ú®",
"–ï—Å–ª–∏ –±–µ–ª–∫–∞ –Ω–µ –Ω–∞—à–ª–∞ –æ—Ä–µ—Ö –≤ –æ–¥–Ω–æ–º –¥—É–ø–ª–µ, –æ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç —Å–æ—Ç–Ω—é –¥—Ä—É–≥–∏—Ö. –ú–µ—Ç–æ–¥ –ø–µ—Ä–µ–±–æ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞! ‚òÄÔ∏è",
"–ë–µ–ª–∫–∞ –Ω–µ –ø—ã—Ç–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—å –æ—Ä–ª–æ–º. –û–Ω–∞ –ª—É—á—à–∞—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã –±—ã—Ç—å –±–µ–ª–∫–æ–π. –ê —Ç—ã –ª—É—á—à–∏–π, –∫–æ–≥–¥–∞ –æ—Å—Ç–∞—ë—à—å—Å—è —Å–æ–±–æ–π. üåø",
"–ï—Å–ª–∏ –≤–µ—Ç–∫–∞ —Å–ª–æ–º–∞–ª–∞—Å—å ‚Äî –±–µ–ª–∫–∞ –ø—Ä—ã–≥–∞–µ—Ç –Ω–∞ –¥—Ä—É–≥—É—é. –≠—Ç–æ –Ω–µ –ø–∞–¥–µ–Ω–∏–µ, –∞ —Å–º–µ–Ω–∞ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏. ü§ó",
"–ü—É—à–∏—Å—Ç—ã–π —Ö–≤–æ—Å—Ç –±–µ–ª–∫–∏ ‚Äî —ç—Ç–æ –Ω–µ —Ä–æ—Å–∫–æ—à—å, –∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –±–∞–ª–∞–Ω—Å–∞. –ù–∞–π–¥–∏ —Å–≤–æ–π '—Ö–≤–æ—Å—Ç', –∫–æ—Ç–æ—Ä—ã–π –¥–µ—Ä–∂–∏—Ç —Ç–µ–±—è –≤ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–∏. üí™",
"–ë–µ–ª–∫–∞ –Ω–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å–≤–æ—é –∫–ª–∞–¥–æ–≤–∫—É —Å –∫–ª–∞–¥–æ–≤–∫–æ–π —Å–æ—Å–µ–¥–∞. –£ –∫–∞–∂–¥–æ–≥–æ —Å–≤–æ–π –∑–∞–ø–∞—Å –∏ —Å–≤–æ–∏ –∑–∞–ø–∞—Å—ã. üçµ",
"–î–∞–∂–µ —Å–∞–º–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è –±–µ–ª–∫–∞ –∏–Ω–æ–≥–¥–∞ —Å–∏–¥–∏—Ç –Ω–µ–ø–æ–¥–≤–∏–∂–Ω–æ –∏ —Å–º–æ—Ç—Ä–∏—Ç –≤ –ø—É—Å—Ç–æ—Ç—É. –≠—Ç–æ –Ω–µ –ª–µ–Ω—å, —ç—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞. üåà",
"–ë–µ–ª–∫–∞ –¥–æ–≤–µ—Ä—è–µ—Ç —Å–≤–æ–µ–º—É –Ω–æ—Å—É. –î–æ–≤–µ—Ä—è–π —Å–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏ ‚Äî –æ–Ω–∞ —Ä–µ–¥–∫–æ –æ—à–∏–±–∞–µ—Ç—Å—è. üòä",
"–ù–∞–±–ª—é–¥–∞—è –∑–∞ –±–µ–ª–∫–æ–π, –ø–æ–Ω–∏–º–∞–µ—à—å: –∏–Ω–æ–≥–¥–∞ –ª—É—á—à–µ–µ, —á—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å ‚Äî —ç—Ç–æ –∑–∞–º–µ—Ä–µ—Ç—å –∏ –æ—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è. üç™",
"–†–∞–±–æ—Ç–∞–π –∫–∞–∫ –±–µ–ª–∫–∞: –±—ã—Å—Ç—Ä–æ, –ª–æ–≤–∫–æ, –Ω–æ —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º –æ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞. üêøÔ∏è‚ù§Ô∏è",
"–ï—Å–ª–∏ —Ü–µ–ª—å –∫–∞–∂–µ—Ç—Å—è –≤—ã—Å–æ–∫–æ–π, –∫–∞–∫ –¥–µ—Ä–µ–≤–æ ‚Äî –ø—Ä–æ—Å—Ç–æ –ª–µ–∑—å, –Ω–µ –≥–ª—è–¥—è –Ω–∞ –≤–µ—Ä—Ö—É—à–∫—É. ‚ú®",
"–°–æ–±–µ—Ä–∏ —Å–≤–æ–∏ '–æ—Ä–µ—à–∫–∏' ‚Äî –º–∞–ª–µ–Ω—å–∫–∏–µ –ø–æ–±–µ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–≥—Ä–µ–≤–∞—é—Ç –≤ —Ç—Ä—É–¥–Ω—ã–π –¥–µ–Ω—å. ‚òÄÔ∏è",
"–û–¥–Ω–∞ –±–µ–ª–∫–∞ –º–Ω–æ–≥–æ –æ—Ä–µ—Ö–æ–≤ –Ω–µ —É–Ω–µ—Å—ë—Ç. –ï—Å–ª–∏ —É—Å—Ç–∞–ª ‚Äî –∑–æ–≤–∏ –¥—Ä—É–∑–µ–π. –ü—Ä–æ—Å–∏—Ç—å –æ –ø–æ–º–æ—â–∏ ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–æ. üåø",
"–ü—Ä—ã–∂–æ–∫ —Å –≤–µ—Ç–∫–∏ –Ω–∞ –≤–µ—Ç–∫—É ‚Äî —ç—Ç–æ —Ä–∏—Å–∫. –ù–æ –±–µ–∑ —Ä–∏—Å–∫–∞ –Ω–µ –≤–∏–¥–∞—Ç—å —Å–∞–º—ã—Ö —Å–ª–∞–¥–∫–∏—Ö –æ—Ä–µ—à–∫–æ–≤. ü§ó",
"–ë–µ–ª–∫–∞ –Ω–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç –¥–µ–ª–∞ –Ω–∞ –ø–æ—Ç–æ–º. –û–Ω–∞ –∑–Ω–∞–µ—Ç: –ª—É—á—à–µ–µ –≤—Ä–µ–º—è —Å–ø—Ä—è—Ç–∞—Ç—å –æ—Ä–µ—Ö ‚Äî —Å–µ–π—á–∞—Å. üí™",
"–î–∞–∂–µ –µ—Å–ª–∏ –±–µ–ª–∫–∞ —É—Ä–æ–Ω–∏–ª–∞ –æ—Ä–µ—Ö, –æ–Ω–∞ —Å–ø—É—Å—Ç–∏—Ç—Å—è –∏ –ø–æ–¥–Ω–∏–º–µ—Ç. –ù–∏—á–µ–≥–æ –Ω–µ –ø–æ—Ç–µ—Ä—è–Ω–æ, –ø–æ–∫–∞ —Ç—ã –≥–æ—Ç–æ–≤ –∏—Å–∫–∞—Ç—å. üçµ",
"–ë–µ–ª–∫–∞ –±–µ–∂–∏—Ç –Ω–µ –ø–æ—Ç–æ–º—É, —á—Ç–æ –∑–∞ –Ω–µ–π –≥–æ–Ω—è—Ç—Å—è, –∞ –ø–æ—Ç–æ–º—É —á—Ç–æ –≤–ø–µ—Ä–µ–¥–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ. –ë–µ–≥–∏ –∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º! üåà",
"–ü–æ–∑–≤–æ–ª—å —Å–µ–±–µ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–∏–¥–µ—Ç—å –∏ –ø–æ—á–∏—Å—Ç–∏—Ç—å —à—É–±–∫—É. –ò–Ω–æ–≥–¥–∞ –æ—Ç–¥—ã—Ö –≤–∞–∂–Ω–µ–µ —Å—É–µ—Ç—ã. üêøÔ∏è‚ù§Ô∏è",
"–ï—Å–ª–∏ –≤–æ–∫—Ä—É–≥ —Å–µ—Ä–æ –∏ –ø–∞—Å–º—É—Ä–Ω–æ ‚Äî –±–µ–ª–∫–∞ —á–∏—Å—Ç–∏—Ç —à—É–±–∫—É. –ü—Ä–∏–≤–µ–¥–∏ —Å–µ–±—è –≤ –ø–æ—Ä—è–¥–æ–∫, –∏ –º–∏—Ä —Å—Ç–∞–Ω–µ—Ç —á—É—Ç–æ—á–∫—É —è—Ä—á–µ. ‚ú®",
"–ö–æ–≥–¥–∞ –≤–µ—Ç–µ—Ä —Å–ª–∏—à–∫–æ–º —Å–∏–ª—å–Ω—ã–π, –±–µ–ª–∫–∞ –ø—Ä—è—á–µ—Ç—Å—è –≤ –¥—É–ø–ª–µ. –£–∫—Ä—ã—Ç—å—Å—è, —á—Ç–æ–±—ã –ø–µ—Ä–µ–∂–¥–∞—Ç—å ‚Äî —ç—Ç–æ –º—É–¥—Ä–æ, –∞ –Ω–µ —Ç—Ä—É—Å–æ—Å—Ç—å. ‚òÄÔ∏è",
"–•–≤–æ—Å—Ç –≥—Ä–µ–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–µ–ª–æ, –Ω–æ –∏ –¥—É—à—É. –û–±–Ω–∏–º–∏ —Å–µ–±—è –ø–æ–∫—Ä–µ–ø—á–µ ‚Äî —Ç—ã —ç—Ç–æ –∑–∞—Å–ª—É–∂–∏–ª(–∞). üåø",
"–ë–µ–ª–∫–∞ –º–æ–∂–µ—Ç —Å–æ—Ä–≤–∞—Ç—å—Å—è —Å –≤–µ—Ç–∫–∏, –Ω–æ –æ–Ω–∞ –≤—Å–µ–≥–¥–∞ –æ—Ç—Ä—è—Ö–Ω—ë—Ç—Å—è –∏ –ø–æ–ª–µ–∑–µ—Ç –¥–∞–ª—å—à–µ. ü§ó",
"–ï—Å–ª–∏ –±–µ–ª–∫–∞ –ø–æ—Ç–µ—Ä—è–ª–∞ –∫–ª–∞–¥ ‚Äî –æ–Ω–∞ –Ω–µ –ø–ª–∞—á–µ—Ç, –∞ –∏—â–µ—Ç –≤ –Ω–æ–≤–æ–º –º–µ—Å—Ç–µ. üí™",
"–£ –±–µ–ª–æ–∫ –Ω–µ—Ç –∞–Ω—Ç–∏–¥–µ–ø—Ä–µ—Å—Å–∞–Ω—Ç–æ–≤, —É –Ω–∏—Ö –µ—Å—Ç—å –æ—Ä–µ—Ö–∏ –∏ –±–µ–≥–æ—Ç–Ω—è. –ù–∞–π–¥–∏ —Å–≤–æ–π —Ä–µ—Ü–µ–ø—Ç. üçµ",
"–î–∞–∂–µ —Å–∞–º–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è –±–µ–ª–∫–∞ –∏–Ω–æ–≥–¥–∞ –ª–µ–∂–∏—Ç –Ω–∞ –≤–µ—Ç–∫–µ –∏ –ø—É—Å–∫–∞–µ—Ç —Å–ª—é–Ω–∏. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è '–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏–ª'. üåà",
"–ë–µ–ª–∫–∞ –Ω–µ –≤–∏–Ω–∏—Ç —Å–µ–±—è –∑–∞ —Å—ä–µ–¥–µ–Ω–Ω—ã–π –æ—Ä–µ—Ö. –ù–µ –∫–æ—Ä–∏ —Å–µ–±—è –∑–∞ –ø—Ä–æ—à–ª–æ–µ ‚Äî –∏–¥–∏ –∑–∞ –Ω–æ–≤—ã–º. üòä",
"–†–∞–∑—Ä–µ—à–∏ —Å–µ–±–µ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–∏–¥–µ—Ç—å –Ω–∞ –≤–µ—Ç–∫–µ –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –æ–±–ª–∞–∫–∞. üç™",
"–¢—ã —É–Ω–∏–∫–∞–ª–µ–Ω, –∫–∞–∫ –±–µ–ª–∫–∞-–∞–ª—å–±–∏–Ω–æ—Å —Å—Ä–µ–¥–∏ —Ä—ã–∂–∏—Ö. –†–µ–¥–∫–∏–π, —Ü–µ–Ω–Ω—ã–π, –Ω–µ–º–Ω–æ–≥–æ —Å—Ç—Ä–∞–Ω–Ω—ã–π. üêøÔ∏è‚ù§Ô∏è",
"–ö–∏—Å—Ç–æ—á–∫–∏ –Ω–∞ —É—à–∞—Ö —É –±–µ–ª–∫–∏ ‚Äî —ç—Ç–æ –µ—ë —Ñ–∏—à–∫–∞. –ù–æ—Å–∏ —Å–≤–æ–∏ '–∫–∏—Å—Ç–æ—á–∫–∏' —Å –≥–æ—Ä–¥–æ—Å—Ç—å—é! ‚ú®",
"–ë—É–¥—å –ª—é–±–æ–ø—ã—Ç–Ω—ã–º, –∫–∞–∫ –±–µ–ª—å—á–æ–Ω–æ–∫: —Å—É–Ω—å –Ω–æ—Å –≤–æ –≤—Å–µ —â–µ–ª–∏, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç–∞–º —Ç–µ–º–Ω–æ. ‚òÄÔ∏è",
"–ù–µ —Å–ª—É—à–∞–π —Ç–µ—Ö, –∫—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –æ—Ä–µ—Ö —Å–ª–∏—à–∫–æ–º —Ç–≤—ë—Ä–¥—ã–π. –£ —Ç–µ–±—è –æ—Å—Ç—Ä—ã–µ –∑—É–±–∫–∏! üåø",
"–ë–µ–ª–∫–∞ –Ω–µ –∑–Ω–∞–µ—Ç —Å–ª–æ–≤–∞ '–Ω–µ —Å–º–æ–≥—É'. –û–Ω–∞ –∑–Ω–∞–µ—Ç —Å–ª–æ–≤–∞ '–¥–∞–π —Å—é–¥–∞' –∏ '–º–æ—ë'. ü§ó",
"–ï—Å–ª–∏ –±–µ–ª–∫–∞ –≤–∏–¥–∏—Ç –≤–∫—É—Å–Ω–æ–µ ‚Äî –æ–Ω–∞ –±–µ—Ä—ë—Ç. –ù–∞–≥–ª–æ—Å—Ç—å ‚Äî –≤—Ç–æ—Ä–æ–µ –±–µ–ª–∏—á—å–µ —Å—á–∞—Å—Ç—å–µ. üí™",
"–ë–µ–ª–∫–∞ –Ω–µ —Å—Ç—Ä–æ–∏—Ç –ø–ª–∞–Ω—ã –Ω–∞ 10 –ª–µ—Ç. –£ –Ω–µ—ë –µ—Å—Ç—å –ø–ª–∞–Ω –Ω–∞ —Å–µ–≥–æ–¥–Ω—è: –Ω–∞–π—Ç–∏ –æ—Ä–µ—Ö–∏ –∏ –ø–æ—Å–ø–∞—Ç—å. –ò —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. üçµ",
"–†—ã–∂–∏–π —Ü–≤–µ—Ç ‚Äî —Ü–≤–µ—Ç –Ω–∞–≥–ª–æ—Å—Ç–∏ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏. –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã —Ä—ã–∂–∞—è –±–µ–ª–∫–∞, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç—ã –ª—ã—Å—ã–π —Ö–æ–º—è–∫. üåà",
"–ë–µ–ª–∫–∞ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–∫–∞–∂–µ—Ç '—É –º–µ–Ω—è –ª–∞–ø–∫–∏' –≤ —Å–º—ã—Å–ª–µ '—è –±–µ—Å–ø–æ–º–æ—â–µ–Ω'. –û–Ω–∞ —Å–∫–∞–∂–µ—Ç '—É –º–µ–Ω—è –ª–∞–ø–∫–∏' –∏ —Å—Ç—ã—Ä–∏—Ç —Ç–≤–æ–π –±—É—Ç–µ—Ä–±—Ä–æ–¥. üòä",
"–°—á–∞—Å—Ç—å–µ ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –Ω–∞—à—ë–ª –æ—Ä–µ—Ö, –∫–æ—Ç–æ—Ä—ã–π —Å–ø—Ä—è—Ç–∞–ª –º–µ—Å—è—Ü –Ω–∞–∑–∞–¥ –∏ –∑–∞–±—ã–ª –ø—Ä–æ –Ω–µ–≥–æ. üêøÔ∏è‚ù§Ô∏è",
"–†–∞–¥—É–π—Å—è –º–µ–ª–æ—á–∞–º, –∫–∞–∫ –±–µ–ª–∫–∞ —Ä–∞–¥—É–µ—Ç—Å—è —É–ø–∞–≤—à–µ–º—É —Å –ª–∞–≤–æ—á–∫–∏ –æ–≥—Ä—ã–∑–∫—É —è–±–ª–æ–∫–∞. ‚ú®",
"–ò–Ω–æ–≥–¥–∞ –ª—É—á—à–∏–π –æ—Ç–¥—ã—Ö ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–≥—Ä—ã–∑—Ç—å –ø–∞–ª–æ—á–∫—É. –ë–µ—Å–ø–æ–ª–µ–∑–Ω–æ, –Ω–æ –ø—Ä–∏—è—Ç–Ω–æ. ‚òÄÔ∏è",
"–ë–µ–ª–∫–∞ –∑–Ω–∞–µ—Ç —Ç–æ–ª–∫ –≤ —É—é—Ç–µ: —Å—É—Ö–æ, –º—è–≥–∫–æ –∏ —á—Ç–æ–±—ã –Ω–∏–∫—Ç–æ –Ω–µ —Ç—Ä–æ–≥–∞–ª. üåø",
"–õ—É—á—à–∏–π –º–æ–º–µ–Ω—Ç –¥–Ω—è ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –ø—Ä–∏–≥—Ä–µ–ª–æ —Å–æ–ª–Ω—ã—à–∫–æ –∏ –º–æ–∂–Ω–æ —Ä–∞–∑–≤–∞–ª–∏—Ç—å—Å—è –Ω–∞ –≤–µ—Ç–∫–µ. ü§ó",
"–ë–µ–ª–∫–∞ –Ω–µ –≥–æ–Ω—è–µ—Ç—Å—è –∑–∞ –æ–¥–Ω–∏–º —É–ø–ª—ã–≤—à–∏–º –æ—Ä–µ—Ö–æ–º. –í–æ–∫—Ä—É–≥ –ø–æ–ª–Ω—ã–π –ª–µ—Å –∂–µ–ª—É–¥–µ–π. –ù–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–π—Å—è. üí™",
"–ï—Å–ª–∏ —Ç–µ–±–µ –≥—Ä—É—Å—Ç–Ω–æ, –ø—Ä–µ–¥—Å—Ç–∞–≤—å, –∫–∞–∫ –±–µ–ª–∫–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞—Å—É–Ω—É—Ç—å –≤ —Ä–æ—Ç —Å—Ä–∞–∑—É —Ç—Ä–∏ –æ—Ä–µ—Ö–∞, –∞ —â—ë–∫–∏ –Ω–µ —Ä–µ–∑–∏–Ω–æ–≤—ã–µ. üçµ",
"–ü–æ–≥–æ–Ω—è –∑–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Ö–≤–æ—Å—Ç–æ–º ‚Äî —ç—Ç–æ –≤–µ—Å–µ–ª–æ —Ä–æ–≤–Ω–æ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –ø–æ–π–º–∞–ª. üåà",
"–ë–µ–ª–∫–∞ –Ω–µ –∂–∏–≤—ë—Ç –ø—Ä–æ—à–ª—ã–º. –û–Ω–∞ –∂–∏–≤—ë—Ç –≤ –¥—É–ø–ª–µ, –Ω–æ —ç—Ç–æ –¥—Ä—É–≥–æ–µ. üòä",
"–†–∞–¥–æ—Å—Ç—å –±–µ–ª–∫–∏ ‚Äî –≤ –¥–≤–∏–∂–µ–Ω–∏–∏. –í—Å—Ç–∞–Ω—å –∏ –ø—Ä–æ–π–¥–∏—Å—å, –¥–∞–∂–µ –µ—Å–ª–∏ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ —Å–∏–ª –Ω–µ—Ç. üç™"
]


SAD_KEYWORDS = ["–≥—Ä—É—Å—Ç–Ω", "–ø–ª–æ—Ö–æ", "—É—Å—Ç–∞–ª", "—Ç–æ—Å–∫–∞", "–ø–µ—á–∞–ª—å", "–±–æ–ª–∏—Ç", "–æ–±–∏–¥–Ω–æ"]



bot = Bot(token=BOT_TOKEN)
dp = Dispatcher()


def get_random_image():
    """–ò—â–µ—Ç –ª—é–±—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ –ø–∞–ø–∫–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ—ë"""
    try:
        images = [f for f in os.listdir(IMAGES_FOLDER)
                  if f.endswith(('.jpg', '.jpeg', '.png', '.gif'))]
        if not images:
            return None
        random_image = random.choice(images)
        return FSInputFile(os.path.join(IMAGES_FOLDER, random_image))
    except:
        return None


# –ö–æ–º–∞–Ω–¥–∞ /start
@dp.message(Command("start"))
async def cmd_start(message: types.Message):
    await message.answer(
        "üåü *–ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç-—É—Ç–µ—à–∏—Ç–µ–ª—å.*\n\n"
        "–ï—Å–ª–∏ —Ç–µ–±–µ –≥—Ä—É—Å—Ç–Ω–æ –∏–ª–∏ —Ç—è–∂–µ–ª–æ ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –º–Ω–µ –æ–± —ç—Ç–æ–º.\n"
        "–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É /support, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Ä—Ü–∏—é —Ç–µ–ø–ª–∞.\n\n"
        "–Ø —Ä—è–¥–æ–º! ‚ù§Ô∏è",
        parse_mode="Markdown"
    )


# –ö–æ–º–∞–Ω–¥–∞ /support
@dp.message(Command("support"))
async def cmd_support(message: types.Message):
    phrase = random.choice(SUPPORT_PHRASES)
    image = get_random_image()

    if image:
        await message.answer_photo(
            photo=image,
            caption=f"{phrase}\n\n*–û–±–Ω–∏–º–∞—é —Ç–µ–±—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ!*",
            parse_mode="Markdown"
        )
    else:
        await message.answer(
            f"{phrase}\n\n*–û–±–Ω–∏–º–∞—é —Ç–µ–±—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ!* ü§ó",
            parse_mode="Markdown"
        )

# –ö–æ–º–∞–Ω–¥–∞ /help
@dp.message(Command("help"))
async def cmd_help(message: types.Message):
    await message.answer(
        "üêøÔ∏è *–ö–∞–∫ —è –º–æ–≥—É –ø–æ–º–æ—á—å?*\n\n"
        "–í–æ—Ç —á—Ç–æ —è —É–º–µ—é:\n"
        "/start ‚Äî –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å–æ –º–Ω–æ–π\n"
        "/support ‚Äî –ø–æ–ª—É—á–∏—Ç—å —É—Ç–µ—à–µ–Ω–∏–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å\n"
        "/help ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥\n\n"
        "–ê –µ—â—ë —Ç—ã –º–æ–∂–µ—à—å –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞—Ç—å –º–Ω–µ, –µ—Å–ª–∏ —Ç–µ–±–µ –≥—Ä—É—Å—Ç–Ω–æ ‚Äî —è –ø–æ–π–º—É –ø–æ —Å–ª–æ–≤–∞–º –∏ —É—Ç–µ—à—É ‚ù§Ô∏è",
        parse_mode="Markdown"
    )

# –†–µ–∞–∫—Ü–∏—è –Ω–∞ –≥—Ä—É—Å—Ç–Ω—ã–µ —Å–ª–æ–≤–∞
@dp.message()
async def handle_sad(message: types.Message):
    # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∫–æ–º–∞–Ω–¥—ã
    if message.text.startswith('/'):
        return

    text = message.text.lower()
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≥—Ä—É—Å—Ç–Ω—ã–µ —Å–ª–æ–≤–∞
    for word in SAD_KEYWORDS:
        if word in text:
            phrase = random.choice(SUPPORT_PHRASES)
            # –ò–Ω–æ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É
            if random.random() < 0.3:
                image = get_random_image()
                if image:
                    await message.answer_photo(
                        photo=image,
                        caption=phrase
                    )
                    return
            await message.answer(phrase)
            return


# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
async def main():
    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!")
    await dp.start_polling(bot)


if __name__ == "__main__":
    asyncio.run(main())
